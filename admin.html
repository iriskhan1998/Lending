<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Админ панель | Тэкнолоджия</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
        }

        :root {
            --primary: #7C3AED;
            --primary-light: #8B5CF6;
            --primary-dark: #6D28D9;
            --secondary: #A78BFA;
            --accent: #EC4899;
            --success: #10B981;
            --warning: #F59E0B;
            --danger: #EF4444;
            --text-dark: #1F2937;
            --text-light: #6B7280;
            --bg-light: #FAF5FF;
            --bg-white: #FFFFFF;
            --gradient: linear-gradient(135deg, #7C3AED 0%, #A78BFA 100%);
            --gradient-hover: linear-gradient(135deg, #8B5CF6 0%, #C4B5FD 100%);
            --shadow: 0 20px 40px rgba(124, 58, 237, 0.1);
            --shadow-hover: 0 25px 50px rgba(124, 58, 237, 0.15);
        }

        body {
            background: var(--bg-light);
            color: var(--text-light);
            min-height: 100vh;
        }

        .admin-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .admin-header {
            background: var(--gradient);
            color: white;
            padding: 50px;
            border-radius: 25px;
            margin-bottom: 40px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .admin-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: cover;
        }

        .header-content {
            position: relative;
            z-index: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .header-content h1 {
            font-size: 2.8rem;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .header-content p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 15px 30px;
            border-radius: 15px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 255, 255, 0.2);
        }

        .admin-nav {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            background: var(--bg-white);
            padding: 25px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            flex-wrap: wrap;
            border: 1px solid rgba(124, 58, 237, 0.1);
        }

        .nav-btn {
            padding: 16px 35px;
            background: white;
            color: var(--text-dark);
            border: 2px solid var(--primary-light);
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.05rem;
        }

        .nav-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-2px);
        }

        .nav-btn.active {
            background: var(--gradient);
            color: white;
            border-color: transparent;
            box-shadow: 0 10px 25px rgba(124, 58, 237, 0.3);
            transform: translateY(-2px);
        }

        .admin-section {
            display: none;
            animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: var(--bg-white);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(124, 58, 237, 0.1);
        }

        .admin-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 2rem;
            color: var(--text-dark);
            margin-bottom: 35px;
            padding-bottom: 20px;
            border-bottom: 3px solid var(--primary-light);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 80px;
            height: 3px;
            background: var(--gradient);
            border-radius: 2px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 40px;
            margin-bottom: 50px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 12px;
            color: var(--text-dark);
            font-weight: 600;
            font-size: 1.05rem;
            transition: color 0.3s ease;
        }

        input, textarea, select {
            width: 100%;
            padding: 18px 22px;
            border: 2px solid #E5E7EB;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: var(--bg-light);
            color: var(--text-dark);
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 4px rgba(124, 58, 237, 0.1);
        }

        textarea {
            min-height: 160px;
            resize: vertical;
        }

        .btn {
            padding: 18px 40px;
            background: var(--gradient);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            gap: 12px;
            font-size: 1.05rem;
            box-shadow: 0 10px 25px rgba(124, 58, 237, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.7s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(124, 58, 237, 0.4);
            background: var(--gradient-hover);
        }

        .btn-success {
            background: var(--success);
        }

        .btn-warning {
            background: var(--warning);
        }

        .btn-danger {
            background: var(--danger);
        }

        .items-list {
            display: grid;
            gap: 25px;
            margin-top: 40px;
        }

        .item-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            border-left: 5px solid var(--primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(124, 58, 237, 0.1);
        }

        .item-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
            border-left-color: var(--accent);
        }

        .item-content h3 {
            color: var(--text-dark);
            margin-bottom: 12px;
            font-size: 1.3rem;
        }

        .item-content p {
            color: var(--text-light);
            margin-bottom: 12px;
            line-height: 1.6;
        }

        .item-meta {
            display: flex;
            gap: 25px;
            margin-top: 15px;
            font-size: 0.95rem;
        }

        .item-price {
            color: var(--primary);
            font-weight: 600;
            font-size: 1.1rem;
        }

        .item-actions {
            display: flex;
            gap: 15px;
        }

        .icon-btn {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-light);
            color: var(--text-dark);
            border: none;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.1rem;
        }

        .icon-btn:hover {
            transform: scale(1.1);
        }

        .icon-btn.edit:hover {
            background: var(--primary);
            color: white;
        }

        .icon-btn.delete:hover {
            background: var(--danger);
            color: white;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .stat-card {
            background: white;
            padding: 35px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(124, 58, 237, 0.1);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .stat-icon {
            width: 80px;
            height: 80px;
            background: var(--gradient);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            color: white;
            font-size: 1.8rem;
            transition: all 0.3s ease;
        }

        .stat-card:hover .stat-icon {
            transform: rotate(15deg) scale(1.1);
            background: var(--gradient-hover);
        }

        .stat-number {
            font-size: 2.8rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .stat-title {
            color: var(--text-light);
            font-weight: 600;
            font-size: 1.1rem;
        }

        .requests-table {
            width: 100%;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid rgba(124, 58, 237, 0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: var(--gradient);
            color: white;
            padding: 22px;
            text-align: left;
            font-weight: 600;
            font-size: 1.05rem;
        }

        td {
            padding: 20px;
            border-bottom: 1px solid rgba(124, 58, 237, 0.1);
            vertical-align: middle;
        }

        tr:hover {
            background: var(--bg-light);
        }

        .status-badge {
            padding: 8px 18px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            display: inline-block;
        }

        .status-new {
            background: rgba(124, 58, 237, 0.1);
            color: var(--primary);
        }

        .status-processed {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .status-completed {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .logout-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--gradient);
            color: white;
            padding: 18px 40px;
            border-radius: 15px;
            text-decoration: none;
            font-weight: 600;
            box-shadow: 0 10px 30px rgba(124, 58, 237, 0.4);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            cursor: pointer;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.05rem;
        }

        .logout-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(124, 58, 237, 0.6);
            background: var(--gradient-hover);
        }

        /* Image Upload Styles */
        .image-upload-container {
            border: 2px dashed var(--primary-light);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            transition: all 0.3s ease;
            background: var(--bg-light);
        }

        .image-upload-container:hover {
            border-color: var(--primary);
            background: rgba(124, 58, 237, 0.05);
        }

        .image-upload-label {
            display: block;
            cursor: pointer;
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .image-preview {
            width: 200px;
            height: 150px;
            object-fit: cover;
            border-radius: 12px;
            margin-top: 20px;
            display: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .url-input-group {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .url-input-group input {
            flex: 1;
        }

        .current-image {
            max-width: 100%;
            border-radius: 15px;
            margin-top: 20px;
            border: 2px solid var(--primary-light);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 992px) {
            .admin-nav {
                flex-direction: column;
            }
            
            .nav-btn {
                width: 100%;
                justify-content: center;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .item-card {
                flex-direction: column;
                gap: 25px;
                text-align: center;
            }
            
            .item-meta {
                justify-content: center;
            }
            
            .item-actions {
                width: 100%;
                justify-content: center;
            }
            
            .url-input-group {
                flex-direction: column;
            }
        }

        @media (max-width: 768px) {
            .admin-header {
                padding: 35px 25px;
            }
            
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            .header-content h1 {
                font-size: 2.2rem;
            }
            
            .admin-section {
                padding: 30px 25px;
            }
            
            table {
                display: block;
                overflow-x: auto;
            }
            
            .section-title {
                font-size: 1.7rem;
            }
        }

        @media (max-width: 480px) {
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .nav-btn {
                padding: 14px 20px;
            }
            
            .stat-card {
                padding: 25px;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="admin-container">
        <div class="admin-header">
            <div class="header-content">
                <div>
                    <h1>Административная панель</h1>
                    <p>Управление контентом сайта "Тэкнолоджия"</p>
                </div>
                <a href="index.html" class="back-btn">
                    <i class="fas fa-arrow-left"></i>
                    <span>Вернуться на сайт</span>
                </a>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-code"></i>
                </div>
                <div class="stat-number" id="servicesCount">0</div>
                <div class="stat-title">Услуг на сайте</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-newspaper"></i>
                </div>
                <div class="stat-number" id="newsCount">0</div>
                <div class="stat-title">Новостей</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-inbox"></i>
                </div>
                <div class="stat-number" id="requestsCount">0</div>
                <div class="stat-title">Заявок</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-cogs"></i>
                </div>
                <div class="stat-number" id="imagesCount">0</div>
                <div class="stat-title">Изображений</div>
            </div>
        </div>

        <div class="admin-nav">
            <button class="nav-btn active" onclick="showSection('services')">
                <i class="fas fa-code"></i>
                Услуги
            </button>
            <button class="nav-btn" onclick="showSection('news')">
                <i class="fas fa-newspaper"></i>
                Новости
            </button>
            <button class="nav-btn" onclick="showSection('images')">
                <i class="fas fa-image"></i>
                Изображения
            </button>
            <button class="nav-btn" onclick="showSection('requests')">
                <i class="fas fa-inbox"></i>
                Заявки
            </button>
        </div>

        <!-- Секция управления услугами -->
        <div id="servicesSection" class="admin-section active">
            <h2 class="section-title">Управление услугами</h2>
            
            <div class="form-grid">
                <div>
                    <h3 style="color: var(--text-dark); margin-bottom: 20px;">Добавить новую услугу</h3>
                    <form id="addServiceForm">
                        <div class="form-group">
                            <label for="serviceName">Название услуги *</label>
                            <input type="text" id="serviceName" required placeholder="Например: Веб-разработка">
                        </div>
                        <div class="form-group">
                            <label for="serviceDescription">Описание *</label>
                            <textarea id="serviceDescription" required placeholder="Подробное описание услуги"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="servicePrice">Цена *</label>
                            <input type="text" id="servicePrice" required placeholder="Например: от 55 000 ₽">
                        </div>
                        <div class="form-group">
                            <label for="serviceIcon">Иконка (FontAwesome класс) *</label>
                            <input type="text" id="serviceIcon" required placeholder="fas fa-code">
                            <small style="color: var(--text-light); display: block; margin-top: 5px;">
                                Примеры: fas fa-code, fas fa-mobile-alt, fas fa-brain, fas fa-cloud
                            </small>
                        </div>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-plus"></i>
                            Добавить услугу
                        </button>
                    </form>
                </div>
                
                <div>
                    <h3 style="color: var(--text-dark); margin-bottom: 20px;">Существующие услуги</h3>
                    <div class="items-list" id="servicesListAdmin">
                        <!-- Список услуг будет загружен здесь -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Секция управления новостями -->
        <div id="newsSection" class="admin-section">
            <h2 class="section-title">Управление новостями</h2>
            
            <div class="form-grid">
                <div>
                    <h3 style="color: var(--text-dark); margin-bottom: 20px;">Добавить новость</h3>
                    <form id="addNewsForm">
                        <div class="form-group">
                            <label for="newsTitle">Заголовок новости *</label>
                            <input type="text" id="newsTitle" required placeholder="Введите заголовок новости">
                        </div>
                        <div class="form-group">
                            <label for="newsContent">Содержание *</label>
                            <textarea id="newsContent" required placeholder="Подробное содержание новости"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="newsImageUrl">URL изображения *</label>
                            <input type="url" id="newsImageUrl" required placeholder="https://images.unsplash.com/photo-...">
                            <small style="color: var(--text-light); display: block; margin-top: 5px;">
                                Вставьте URL изображения из интернета (рекомендуется Unsplash)
                            </small>
                        </div>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-plus"></i>
                            Добавить новость
                        </button>
                    </form>
                </div>
                
                <div>
                    <h3 style="color: var(--text-dark); margin-bottom: 20px;">Существующие новости</h3>
                    <div class="items-list" id="newsListAdmin">
                        <!-- Список новостей будет загружен здесь -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Секция управления изображениями -->
        <div id="imagesSection" class="admin-section">
            <h2 class="section-title">Управление изображениями</h2>
            
            <div class="form-grid">
                <div>
                    <h3 style="color: var(--text-dark); margin-bottom: 20px;">Изображение для блока "О нас"</h3>
                    <div class="image-upload-container">
                        <label class="image-upload-label">
                            <i class="fas fa-cloud-upload-alt" style="font-size: 3rem; margin-bottom: 15px; color: var(--primary);"></i>
                            <div>Загрузить изображение</div>
                            <input type="file" id="imageUpload" accept="image/*" style="display: none;" onchange="previewImage(event)">
                        </label>
                        
                        <img id="imagePreview" class="image-preview" alt="Превью">
                        
                        <div class="url-input-group">
                            <input type="url" id="imageUrl" placeholder="Или введите URL изображения">
                            <button type="button" class="btn" onclick="setImageFromUrl()">
                                <i class="fas fa-link"></i>
                                Использовать
                            </button>
                        </div>
                    </div>
                    
                    <div>
                        <h4 style="color: var(--text-dark); margin: 25px 0 15px;">Текущее изображение:</h4>
                        <img id="currentAboutImage" class="current-image" alt="Текущее изображение">
                    </div>
                    
                    <button type="button" class="btn btn-success" onclick="saveAboutImage()" style="margin-top: 25px;">
                        <i class="fas fa-save"></i>
                        Сохранить изображение
                    </button>
                </div>
                
                <div>
                    <h3 style="color: var(--text-dark); margin-bottom: 20px;">Загруженные изображения</h3>
                    <div class="items-list" id="imagesListAdmin">
                        <!-- Список изображений будет загружен здесь -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Секция управления заявками -->
        <div id="requestsSection" class="admin-section">
            <h2 class="section-title">Заявки от клиентов</h2>
            
            <div class="requests-table">
                <table id="requestsTable">
                    <thead>
                        <tr>
                            <th>Дата</th>
                            <th>Имя</th>
                            <th>Телефон</th>
                            <th>Email</th>
                            <th>Услуга</th>
                            <th>Сообщение</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody id="requestsListAdmin">
                        <!-- Список заявок будет загружен здесь -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <button class="logout-btn" onclick="logout()">
        <i class="fas fa-sign-out-alt"></i>
        Выйти
    </button>

    <script>
        // Переключение между секциями
        function showSection(sectionId) {
            // Скрываем все секции
            document.querySelectorAll('.admin-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Убираем активный класс у всех кнопок
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Показываем нужную секцию
            document.getElementById(sectionId + 'Section').classList.add('active');
            
            // Активируем нужную кнопку
            event.target.classList.add('active');
            
            // Обновляем статистику
            updateStatistics();
            
            // Загружаем данные для секции
            if (sectionId === 'services') {
                loadServicesForAdmin();
            } else if (sectionId === 'news') {
                loadNewsForAdmin();
            } else if (sectionId === 'images') {
                loadImagesForAdmin();
                loadCurrentAboutImage();
            } else if (sectionId === 'requests') {
                loadRequestsForAdmin();
            }
        }

        // Обновление статистики
        function updateStatistics() {
            const services = JSON.parse(localStorage.getItem('services')) || [];
            const news = JSON.parse(localStorage.getItem('news')) || [];
            const requests = JSON.parse(localStorage.getItem('requests')) || [];
            const images = JSON.parse(localStorage.getItem('images')) || [];
            
            document.getElementById('servicesCount').textContent = services.length;
            document.getElementById('newsCount').textContent = news.length;
            document.getElementById('requestsCount').textContent = requests.length;
            document.getElementById('imagesCount').textContent = images.length;
        }

        // Загрузка услуг для админ панели
        function loadServicesForAdmin() {
            const services = JSON.parse(localStorage.getItem('services')) || [];
            const servicesList = document.getElementById('servicesListAdmin');
            
            servicesList.innerHTML = '';
            
            if (services.length === 0) {
                servicesList.innerHTML = '<p style="text-align: center; color: #999; padding: 40px;">Нет добавленных услуг</p>';
                return;
            }
            
            services.forEach((service, index) => {
                const serviceElement = document.createElement('div');
                serviceElement.className = 'item-card';
                serviceElement.innerHTML = `
                    <div class="item-content">
                        <h3>${service.name}</h3>
                        <p>${service.description}</p>
                        <div class="item-meta">
                            <span class="item-price">${service.price}</span>
                            <span><i class="${service.icon}"></i> ${service.icon}</span>
                        </div>
                    </div>
                    <div class="item-actions">
                        <button class="icon-btn edit" onclick="editService(${index})" title="Редактировать">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="icon-btn delete" onclick="deleteService(${index})" title="Удалить">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                servicesList.appendChild(serviceElement);
            });
            
            updateStatistics();
        }

        // Загрузка новостей для админ панели
        function loadNewsForAdmin() {
            const news = JSON.parse(localStorage.getItem('news')) || [];
            const newsList = document.getElementById('newsListAdmin');
            
            newsList.innerHTML = '';
            
            if (news.length === 0) {
                newsList.innerHTML = '<p style="text-align: center; color: #999; padding: 40px;">Нет добавленных новостей</p>';
                return;
            }
            
            news.forEach((item, index) => {
                const newsElement = document.createElement('div');
                newsElement.className = 'item-card';
                newsElement.innerHTML = `
                    <div class="item-content">
                        <h3>${item.title}</h3>
                        <p>${item.content.substring(0, 200)}...</p>
                        <div class="item-meta">
                            <span><i class="far fa-calendar-alt"></i> ${item.date}</span>
                            <span><i class="fas fa-image"></i> Изображение</span>
                        </div>
                    </div>
                    <div class="item-actions">
                        <button class="icon-btn edit" onclick="editNews(${index})" title="Редактировать">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="icon-btn delete" onclick="deleteNews(${index})" title="Удалить">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                newsList.appendChild(newsElement);
            });
            
            updateStatistics();
        }

        // Загрузка изображений для админ панели
        function loadImagesForAdmin() {
            const images = JSON.parse(localStorage.getItem('images')) || [];
            const imagesList = document.getElementById('imagesListAdmin');
            
            imagesList.innerHTML = '';
            
            if (images.length === 0) {
                imagesList.innerHTML = '<p style="text-align: center; color: #999; padding: 40px;">Нет загруженных изображений</p>';
                return;
            }
            
            images.forEach((image, index) => {
                const imageElement = document.createElement('div');
                imageElement.className = 'item-card';
                imageElement.innerHTML = `
                    <div class="item-content">
                        <h3>${image.type === 'about' ? 'О нас' : 'Новость'} - ${image.date}</h3>
                        <img src="${image.url}" style="max-width: 200px; max-height: 150px; object-fit: cover; border-radius: 12px; margin: 10px 0; border: 2px solid var(--primary-light);">
                        <div class="item-meta">
                            <span><i class="far fa-calendar-alt"></i> ${image.date}</span>
                            <span><i class="${image.type === 'about' ? 'fas fa-building' : 'fas fa-newspaper'}"></i> ${image.type === 'about' ? 'О нас' : 'Новость'}</span>
                        </div>
                    </div>
                    <div class="item-actions">
                        <button class="icon-btn delete" onclick="deleteImage(${index})" title="Удалить">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                imagesList.appendChild(imageElement);
            });
        }

        // Загрузка текущего изображения "О нас"
        function loadCurrentAboutImage() {
            const currentImage = document.getElementById('currentAboutImage');
            const savedImage = localStorage.getItem('aboutImage');
            if (savedImage) {
                currentImage.src = savedImage;
                currentImage.style.display = 'block';
            } else {
                currentImage.style.display = 'none';
            }
        }

        // Загрузка заявок для админ панели
        function loadRequestsForAdmin() {
            const requests = JSON.parse(localStorage.getItem('requests')) || [];
            const requestsList = document.getElementById('requestsListAdmin');
            
            requestsList.innerHTML = '';
            
            if (requests.length === 0) {
                requestsList.innerHTML = `
                    <tr>
                        <td colspan="7" style="text-align: center; color: #999; padding: 40px;">
                            Нет заявок от клиентов
                        </td>
                    </tr>
                `;
                return;
            }
            
            requests.forEach((request, index) => {
                const requestElement = document.createElement('tr');
                requestElement.innerHTML = `
                    <td>${request.date}</td>
                    <td>${request.name}</td>
                    <td>${request.phone}</td>
                    <td>${request.email || '—'}</td>
                    <td>${request.service}</td>
                    <td>${request.message ? request.message.substring(0, 50) + '...' : '—'}</td>
                    <td>
                        <button class="icon-btn edit" onclick="viewRequest(${index})" title="Просмотр">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="icon-btn delete" onclick="deleteRequest(${index})" title="Удалить">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                requestsList.appendChild(requestElement);
            });
            
            updateStatistics();
        }

        // Добавление новой услуги
        document.getElementById('addServiceForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const serviceName = document.getElementById('serviceName').value;
            const serviceDescription = document.getElementById('serviceDescription').value;
            const servicePrice = document.getElementById('servicePrice').value;
            const serviceIcon = document.getElementById('serviceIcon').value;
            
            const services = JSON.parse(localStorage.getItem('services')) || [];
            
            const newService = {
                id: Date.now(),
                name: serviceName,
                description: serviceDescription,
                price: servicePrice,
                icon: serviceIcon
            };
            
            services.push(newService);
            localStorage.setItem('services', JSON.stringify(services));
            
            // Очищаем форму
            this.reset();
            
            // Обновляем список
            loadServicesForAdmin();
            
            alert('Услуга успешно добавлена!');
        });

        // Добавление новой новости
        document.getElementById('addNewsForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newsTitle = document.getElementById('newsTitle').value;
            const newsContent = document.getElementById('newsContent').value;
            const newsImageUrl = document.getElementById('newsImageUrl').value;
            
            const news = JSON.parse(localStorage.getItem('news')) || [];
            
            const now = new Date();
            const formattedDate = `${now.getDate().toString().padStart(2, '0')}.${(now.getMonth()+1).toString().padStart(2, '0')}.${now.getFullYear()}`;
            
            const newNews = {
                id: Date.now(),
                title: newsTitle,
                content: newsContent,
                image: newsImageUrl,
                date: formattedDate
            };
            
            news.push(newNews);
            localStorage.setItem('news', JSON.stringify(news));
            
            // Сохраняем изображение в отдельный список
            const images = JSON.parse(localStorage.getItem('images')) || [];
            images.push({
                url: newsImageUrl,
                type: 'news',
                date: formattedDate
            });
            localStorage.setItem('images', JSON.stringify(images));
            
            // Очищаем форму
            this.reset();
            
            // Обновляем список
            loadNewsForAdmin();
            updateStatistics();
            
            alert('Новость успешно добавлена!');
        });

        // Предпросмотр изображения
        function previewImage(event) {
            const input = event.target;
            const preview = document.getElementById('imagePreview');
            
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    
                    // Сохраняем Data URL для дальнейшего использования
                    preview.dataset.dataUrl = e.target.result;
                };
                
                reader.readAsDataURL(input.files[0]);
            }
        }

        // Установка изображения по URL
        function setImageFromUrl() {
            const imageUrl = document.getElementById('imageUrl').value;
            const preview = document.getElementById('imagePreview');
            
            if (imageUrl) {
                preview.src = imageUrl;
                preview.style.display = 'block';
                preview.dataset.dataUrl = imageUrl;
            }
        }

        // Сохранение изображения "О нас"
        function saveAboutImage() {
            const preview = document.getElementById('imagePreview');
            const imageUrlInput = document.getElementById('imageUrl');
            
            let imageUrl = preview.dataset.dataUrl || imageUrlInput.value;
            
            if (!imageUrl) {
                alert('Пожалуйста, загрузите изображение или введите URL');
                return;
            }
            
            // Сохраняем в localStorage
            localStorage.setItem('aboutImage', imageUrl);
            
            // Сохраняем в список изображений
            const images = JSON.parse(localStorage.getItem('images')) || [];
            const now = new Date();
            const formattedDate = `${now.getDate().toString().padStart(2, '0')}.${(now.getMonth()+1).toString().padStart(2, '0')}.${now.getFullYear()}`;
            
            images.push({
                url: imageUrl,
                type: 'about',
                date: formattedDate
            });
            
            localStorage.setItem('images', JSON.stringify(images));
            
            // Обновляем текущее изображение
            loadCurrentAboutImage();
            
            // Очищаем форму
            document.getElementById('imageUpload').value = '';
            imageUrlInput.value = '';
            preview.style.display = 'none';
            delete preview.dataset.dataUrl;
            
            // Обновляем статистику
            updateStatistics();
            
            alert('Изображение успешно сохранено!');
        }

        // Удаление услуги
        function deleteService(index) {
            if (confirm('Вы уверены, что хотите удалить эту услугу?')) {
                const services = JSON.parse(localStorage.getItem('services')) || [];
                services.splice(index, 1);
                localStorage.setItem('services', JSON.stringify(services));
                loadServicesForAdmin();
                alert('Услуга удалена!');
            }
        }

        // Редактирование услуги
        function editService(index) {
            const services = JSON.parse(localStorage.getItem('services')) || [];
            const service = services[index];
            
            const newName = prompt('Введите новое название услуги:', service.name);
            if (newName !== null) service.name = newName;
            
            const newDescription = prompt('Введите новое описание:', service.description);
            if (newDescription !== null) service.description = newDescription;
            
            const newPrice = prompt('Введите новую цену:', service.price);
            if (newPrice !== null) service.price = newPrice;
            
            const newIcon = prompt('Введите новую иконку (FontAwesome класс):', service.icon);
            if (newIcon !== null) service.icon = newIcon;
            
            localStorage.setItem('services', JSON.stringify(services));
            loadServicesForAdmin();
        }

        // Удаление новости
        function deleteNews(index) {
            if (confirm('Вы уверены, что хотите удалить эту новость?')) {
                const news = JSON.parse(localStorage.getItem('news')) || [];
                news.splice(index, 1);
                localStorage.setItem('news', JSON.stringify(news));
                loadNewsForAdmin();
                alert('Новость удалена!');
            }
        }

        // Редактирование новости
        function editNews(index) {
            const news = JSON.parse(localStorage.getItem('news')) || [];
            const item = news[index];
            
            const newTitle = prompt('Введите новый заголовок:', item.title);
            if (newTitle !== null) item.title = newTitle;
            
            const newContent = prompt('Введите новое содержание:', item.content);
            if (newContent !== null) item.content = newContent;
            
            const newImageUrl = prompt('Введите новый URL изображения:', item.image);
            if (newImageUrl !== null) item.image = newImageUrl;
            
            localStorage.setItem('news', JSON.stringify(news));
            loadNewsForAdmin();
        }

        // Удаление изображения
        function deleteImage(index) {
            if (confirm('Вы уверены, что хотите удалить это изображение?')) {
                const images = JSON.parse(localStorage.getItem('images')) || [];
                images.splice(index, 1);
                localStorage.setItem('images', JSON.stringify(images));
                loadImagesForAdmin();
                updateStatistics();
                alert('Изображение удалено!');
            }
        }

        // Просмотр заявки
        function viewRequest(index) {
            const requests = JSON.parse(localStorage.getItem('requests')) || [];
            const request = requests[index];
            
            alert(`Заявка #${index + 1}\n\n` +
                  `Дата: ${request.date}\n` +
                  `Имя: ${request.name}\n` +
                  `Телефон: ${request.phone}\n` +
                  `Email: ${request.email || '—'}\n` +
                  `Услуга: ${request.service}\n` +
                  `Сообщение: ${request.message || '—'}`);
        }

        // Удаление заявки
        function deleteRequest(index) {
            if (confirm('Вы уверены, что хотите удалить эту заявку?')) {
                const requests = JSON.parse(localStorage.getItem('requests')) || [];
                requests.splice(index, 1);
                localStorage.setItem('requests', JSON.stringify(requests));
                loadRequestsForAdmin();
                alert('Заявка удалена!');
            }
        }

        // Выход из админ панели
        function logout() {
            window.location.href = 'index.html';
        }

        // Загружаем данные при загрузке страницы
        document.addEventListener('DOMContentLoaded', () => {
            updateStatistics();
            loadServicesForAdmin();
            loadCurrentAboutImage();
        });
    </script>
</body>
</html>